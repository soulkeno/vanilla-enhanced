<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Minecraft Schematics</title>

  <!-- Google font for Minecraft-ish pixel feel -->
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Aurora background is in CSS -->

  <!-- Login overlay -->
  <div id="loginScreen" class="overlay active">
    <div class="login-box card glass">
      <h1 class="brand">Breeze Schematics</h1>
      <p class="muted">Log in to access and upload schematics</p>
      <input id="username" placeholder="Username" />
      <input id="password" type="password" placeholder="Password" />
      <div class="row">
        <button id="loginBtn" class="primary" onclick="login()">Login</button>
        <button onclick="demoLogin()" class="outline">Guest</button>
      </div>
      <small class="muted">This demo uses a simple local login (no real auth). Replace with real auth later.</small>
    </div>
  </div>

  <!-- Page header -->
  <header class="topbar">
    <div class="brand-left">
      <div class="logo"></div>
      <div>
        <div class="title">Minecraft Schematics</div>
        <div class="subtitle">Download, upload and share builds</div>
      </div>
    </div>

    <nav class="tabs">
      <button class="tab active" data-target="main" onclick="switchTab('main', this)">Main Schematics</button>
      <button class="tab" data-target="community" onclick="switchTab('community', this)">Community</button>
    </nav>

    <div class="user-area">
      <span id="loggedUser" class="muted">Not logged in</span>
    </div>
  </header>

  <main class="container">
    <!-- MAIN -->
    <section id="main" class="tab-section active">
      <h2>Featured Schematics</h2>
      <div id="mainSchematics" class="card-grid"></div>
    </section>

    <!-- COMMUNITY -->
    <section id="community" class="tab-section">
      <div class="community-header">
        <h2>Community Uploads</h2>
        <div>
          <button class="primary" id="showUpload" onclick="toggleUploadForm(true)">Upload your own</button>
        </div>
      </div>

      <form id="uploadForm" class="upload-form card glass" style="display:none;" enctype="multipart/form-data">
        <h3>Upload schematic</h3>
        <input name="name" placeholder="Enter schematic name" required />
        <label class="file-row">
          <span>Choose schematic (.schem)</span>
          <input type="file" name="file" accept=".schem,.schematic,.nbt,.msch" required />
        </label>
        <label class="file-row">
          <span>Optional preview image</span>
          <input type="file" name="image" accept="image/*" />
        </label>

        <select name="tag">
          <option value="Farm">Farm</option>
          <option value="Stash">Stash</option>
        </select>

        <textarea name="description" rows="4" placeholder="Short description (shown in details)"></textarea>

        <div class="row">
          <button type="submit" class="primary">Upload</button>
          <button type="button" class="outline" onclick="toggleUploadForm(false)">Cancel</button>
        </div>
        <div id="uploadStatus" class="muted"></div>
      </form>

      <div id="communitySchematics" class="card-grid" style="margin-top:18px;"></div>
    </section>
  </main>

  <!-- Details modal -->
  <div id="detailsModal" class="overlay" style="display:none;">
    <div class="modal card glass">
      <div class="modal-header">
        <h3 id="modalTitle"></h3>
        <button onclick="closeModal()" class="close">âœ•</button>
      </div>
      <div class="modal-body">
        <img id="modalImage" alt="preview" style="max-width:100%;border-radius:8px;margin-bottom:10px;" />
        <p id="modalTag" class="muted"></p>
        <p id="modalDescription"></p>
      </div>
      <div class="modal-footer">
        <a id="modalDownload" class="primary" download>Download schematic</a>
        <button onclick="closeModal()" class="outline">Close</button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
